<% 
  var requested = data.opener[0];
  var title = 'Introduction';
  var color = requested['color'];

  function shadeColor(color, percent) {   
    var f=parseInt(color.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=f>>8&0x00FF,B=f&0x0000FF;
    return "#"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);
  }

  var darkColor = shadeColor(color, -0.3);
%>

<% include partials/header.html %>
<% include partials/nav.html %>

<div id="js-main">
  <% if (data.opener) { %>
    <% opener = data.opener[0] %>

    <section class="stories stories--opener" id="<% opener.category %>">
      <div class="intro" style="<% if (opener.color !== "") { %> background-color: <%- opener.color %>; <% } %>">
        <div class="container">

          <div class="intro__content">
            <p><%- opener.category %></p>
            <h1><%- opener.headline %></h1>
          </div>
          <div class="intro__description">
            <%- opener.description %>
          </div>

        </div><!-- end .container -->
      </div><!-- end .intro -->
    </section>

  <% } /* endif data.opener */ %>
</div>

<% include partials/next.html %>
<% include partials/footer.html %>